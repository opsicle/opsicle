# Updates made on 8th July 2025

- [x] Fix recurring issue with flags being overwritten by other flags by using the new `internal/cli` package's method
- [x] Add a `totopgenerator` helper to help with verifying `mfaSeed` works
- [ ] Implement a timeout/TTL feature in the approval request creation, once timeout is reached, the approval request becomes invalid and any approval/rejection action on it will change the message to indicate that it's no longer valid
  - Perhaps implement a job that routinely updates the messages of invalid jobs
  - The expiry set on the cache should be AFTER the message's programmatically set TTL

## Learnings

- TOTP has a step function, in order to generate a TOTP token 5 minutes later, add 5 minutes and truncate it to the nearest 30s

## Next time

- [ ] Add `mfaSeed` as a field for the approval request specification so that a consumer can enable MFA for approvals
- [ ] Add an endpoint to the approver service to generate seed MFA tokens for use with itself
- [ ] In the `TelegramRequestSpec` processing, de-dupe the chat IDs so that each chat only receives the message once in the case of a single chat containing multiple authorised approvers
