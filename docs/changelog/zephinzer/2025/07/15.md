# Updates made on 15th July 2025

- [ ] Implement a way to specify the approval mechanism in the `automations.AutomationTemplate` resource
  - [x] Refactor `approvals.SlackRequestSpec` to be able to target multiple users and multiple channels
  - [x] Refactor `approvals.TelegramRequestSpec` to be able to target multiple users and multiple channels
  - [ ] Implement a `ApprovalPolicy` class as a object that can be saved into the database for referencing in the `AutomationTemplate` resource
  - [ ] Also allow a full `approvals.RequestSpec` to be defined in the `automations.AutomationTemplate`
  - [ ] Remove redundant `type` field in the `ApprovalRequest` (rely instead on whether `slack` or `telegram` fields are populated)
- [ ] Implement audit logging for request processing
  - [ ] All response attempts are logged
  - [ ] All channels where notifications were sent to are logged
  - [ ] All audit logs contain timestamps, chat/channel IDs, and user IDs
- [ ] Create test case using example YAML for demonstrating running at `Automation` with approval requests in place
- [ ] Implement some kind of secret retrieval mechanism to retrieve username/passwords/bearer tokens/header tokens from (for webhook callbacks)
- [ ] Refactor Telegram approval/rejection so that they can share the same function similar to how the Slack implementation does it (in a "handle response" manner instead of an explicit approve/reject function with duplicate code)
- [ ] Implement effects for the `Title` field in the `RequestSpec` class
- [ ] Implement handling for the `TtlSeconds` field in the `RequestSpec` class
- [ ] Implement display of the `Url` field in the `RequestSpec` class


## Learnings

## Next time
