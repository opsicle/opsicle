# Updates made on 4th July 2025

- [x] Shift `redis` to use the same pattern as `telegram` - as an integration, because the cache should be able to be switched to something like `filesystem` or DynamoDB
- [x] Introduce `common.ServiceLogf` for logging via ServiceLog objects
- [x] Deprecate `LogEntry` implementation and use `common.ServiceLog` as a sanity refactor
- [x] Move `common.ServiceLog{...}` implementations into `common.ServiceLogf` as a sanity refactor
- [x] Move `config.LogLevel*` into `common.LogLevel*` as a sanity refactor
- [x] Find out how to get the chat ID of a callback query
- [x] Parse the callback query into the action and related request ID
- [x] Check if the endpoint actually sends data to redis

## Next time:

- [ ] After sending a messsage, retrieve the message ID and save it in the cache. When retrieving the key from the cache, verify that the callback query's message ID is the same as the message ID we sent it with
  - Need to save the message ID sent by the notifier so that we know the callback data is coming from the latest, if the message ID doesn't match, reject the approval from the system-side
- [ ] After approval/rejection, remove the callback buttons from the message using the message ID saved, leave behind the request ID only
- [ ] Implement endpoint for retrieving an approval by it's ID which should return it's status
